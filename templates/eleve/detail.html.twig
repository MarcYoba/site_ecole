{% extends 'base.html.twig' %}

{% block title %}List Eleve{% endblock %}

{% block body %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte d'Étudiant </title>
    <link rel="stylesheet" href="{{ asset('css/eleve.css') }}">
</head>
<body>
        <!--<h1 class="text-center text-white">Carte d'Étudiant - {{ecoles.nom}}</h1>
        <br> -->
    <div class="table-responsive">
            <table class="table table-striped table-hover">
                <tbody>
                    {% set valeur = 0 %}

                    {% for eleve in eleves %}
                    {% if valeur == 0 %}
                        <tr>
                    {% endif %}
                    <td>
                        <div class="controls">
                                <!-- En-tête de la carte <div class="student-card"> -->
                                <div class="card-header">
                                    <div class="college-name">{{ecoles.nom}}</div>
                                    <div class="college-logo">
                                        <i class="fas fa-graduation-cap"></i>
                                    </div>
                                </div>
                                
                                <!-- Corps de la carte -->
                                <div class="card-body">
                                    <div class="id-photo">
                                        <div class="id-photo-placeholder">
                                            <i class="fas fa-user"></i>
                                            <div>Photo</div>
                                        </div>
                                    </div>
                                    
                                    <div class="student-info">
                                        <div class="student-name">{{ eleve.nom }}</div>
                                        
                                        <div class="col-mb-1">
                                            <span class="info-label">NE le</span>
                                            <span class="info-value">{{ eleve.naissance | date('Y-m-d') }}</span>
                                        </div>
                                        
                                        <div class="mb-1">
                                            <span class="info-label">Classe</span>
                                            <span class="info-value">{{ eleve.classe.nom }} </span>
                                        </div>
                                        
                                        <div class="mb-1">
                                            <span class="info-label">Pere/ Mere</span>
                                            <span class="info-value">{{ eleve.pere }} / {{ eleve.mere }}</span>
                                        </div>
                                        
                                        <div>
                                            <span class="info-label">Telephone/ Matricule </span>
                                            <div class="course-badge">{{ eleve.telephone }} / {{ eleve.matricule }}</div>
                                        </div>
                                    </div>
                                </div>
                        </div>        
                                <!-- Pied de page de la carte </div>-->
                                <div class="card-footer">
                                    <div>Powered by Intellect Driven by Values</div>
                                </div>
                            
                        
                        
                        <div class="controls">
                            <h3>Contrôles de la Carte</h3>
                            <div class="dimensions">
                                <h4>Dimensions Exactes</h4>
                                <p><strong>85.6 mm × 53.98 mm</strong></p>
                                <p>Taille standard carte de crédit</p>
                            </div>
                            
                            <div class="btn-group">
                                <button class="btn btn-print" onclick="window.print()">
                                    <i class="fas fa-print me-2"></i>Imprimer
                                </button>
                                <button class="btn btn-download" onclick="downloadCard()">
                                    <i class="fas fa-download me-2"></i>Télécharger
                                </button>
                            </div>
                            
                            <div class="note">
                                <p><strong>Note :</strong> La carte est affichée agrandie pour prévisualisation. 
                                Elle sera imprimée aux dimensions exactes de 85.6 × 53.98 mm.</p>
                                <p>Pour une impression précise, utilisez du papier cartonné de 300 g/m².</p>
                            </div>
                        </div>
                    
                    </td>
                            {% set valeur = valeur + 1 %}   
                            {% if valeur > 2 %}
                                </tr>
                                {% set valeur = 0 %}
                            {% endif %}
                    {% endfor %}
                    </tr>
                </tbody>
            </table>
        </div>
    <script>
        function downloadCard() {
            alert("Fonctionnalité de téléchargement activée!\nEn production, cela sauvegarderait la carte au format PDF.");
            // En production, vous utiliseriez une librairie comme jsPDF ou html2pdf
        }
        
        // Ajustement pour l'impression
        window.matchMedia('print').addListener((mql) => {
            if (mql.matches) {
                document.body.classList.add('printing');
            } else {
                document.body.classList.remove('printing');
            }
        });
    </script>
</body>
</html>


{% endblock %}